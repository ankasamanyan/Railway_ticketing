generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

model Station {
  id          Int      @id @default(autoincrement())
  name        String   @unique
  departures  Train[]  @relation("DepartureStation")
  arrivals    Train[]  @relation("ArrivalStation")
}

model Train {
  id              Int      @id @default(autoincrement())
  departure       Station  @relation("DepartureStation", fields: [departureId], references: [id])
  departureId     Int
  arrival         Station  @relation("ArrivalStation", fields: [arrivalId], references: [id])
  arrivalId       Int
  date            DateTime
  departureTime   DateTime
  arrivalTime     DateTime
  price           Float
  fastTrain       Boolean
  Ticket        Ticket[]    @relation("TrainId")
}

model Ticket {
  id              Int      @id @default(autoincrement())
  train           Train    @relation("TrainId", fields: [trainId], references: [id])
  trainId         Int
}

